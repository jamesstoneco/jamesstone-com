!function(){"use strict";function modalDirective(foundationApi){function compile(){function preLink(scope,iElement,iAttrs){iAttrs.$set("zf-closable",type)}function postLink(scope,element,attrs){function animate(){scope.overlay||element.css("background","transparent"),foundationApi.animate(element,scope.active,overlayIn,overlayOut),foundationApi.animate(dialog,scope.active,animationIn,animationOut)}var dialog=angular.element(element.children()[0]);scope.active=!1,scope.overlay="true"===attrs.overlay||"true"===attrs.overlayClose?!0:!1,scope.overlayClose="true"===attrs.overlayClose?!0:!1;var animationIn=attrs.animationIn||"fadeIn",animationOut=attrs.animationOut||"fadeOut",overlayIn="fadeIn",overlayOut="fadeOut";foundationApi.subscribe(attrs.id,function(msg){"show"===msg||"open"===msg?scope.show():"close"===msg||"hide"===msg?scope.hide():"toggle"===msg&&scope.toggle(),scope.$apply()}),scope.hideOverlay=function(){scope.overlayClose&&scope.hide()},scope.hide=function(){scope.active=!1,animate()},scope.show=function(){scope.active=!0,animate()},scope.toggle=function(){scope.active=!scope.active,animate()}}var type="modal";return{pre:preLink,post:postLink}}var directive={restrict:"EA",templateUrl:"components/modal/modal.html",transclude:!0,scope:!0,replace:!0,compile:compile};return directive}angular.module("foundation.modal",["foundation.core"]).directive("zfModal",modalDirective),modalDirective.$inject=["FoundationApi"]}();