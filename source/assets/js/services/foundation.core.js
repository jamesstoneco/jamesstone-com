!function(){"use strict";function mqInitRun(mqInit){mqInit.init()}function FoundationMQInit(helpers,foundationApi,u){function init(){var mediaQueries,extractedMedia;helpers.headerHelper(["foundation-mq"]),extractedMedia=helpers.getStyle(".foundation-mq","font-family"),mediaQueries=helpers.parseStyleToObject(extractedMedia);for(var key in mediaQueries)mediaQueries[key]="only screen and (min-width: "+mediaQueries[key].replace("rem","em")+")";foundationApi.modifySettings({mediaQueries:mediaQueries}),window.addEventListener("resize",u.throttle(function(){foundationApi.publish("resize","window resized")},50))}var factory={};return factory.init=init,factory}function mqHelpers(){function headerHelper(classArray){for(var i=classArray.length,head=angular.element(document.querySelectorAll("head"));i--;)head.append('<meta class="'+classArray[i]+'" />')}function getStyle(selector){var elem=document.querySelectorAll(selector)[0],style=window.getComputedStyle(elem,null);return style.getPropertyValue("font-family")}function parseStyleToObject(str){var styleObject={};return"string"!=typeof str?styleObject:(str=str.trim().slice(1,-1))?styleObject=str.split("&").reduce(function(ret,param){var parts=param.replace(/\+/g," ").split("="),key=parts[0],val=parts[1];return key=decodeURIComponent(key),val=void 0===val?null:decodeURIComponent(val),ret.hasOwnProperty(key)?Array.isArray(ret[key])?ret[key].push(val):ret[key]=[ret[key],val]:ret[key]=val,ret},{}):styleObject}var factory={};return factory.headerHelper=headerHelper,factory.getStyle=getStyle,factory.parseStyleToObject=parseStyleToObject,factory}function FoundationApi(){function subscribe(name,callback){return listeners[name]||(listeners[name]=[]),listeners[name].push(callback),!0}function publish(name,msg){listeners[name]||(listeners[name]=[]),listeners[name].forEach(function(cb){cb(msg)})}function getSettings(){return settings}function modifySettings(tree){return settings=angular.extend(settings,tree)}function generateUuid(){var uuid="";do{uuid+="zf-uuid-";for(var i=0;15>i;i++)uuid+=Math.floor(16*Math.random()).toString(16)}while(!uniqueIds.indexOf(uuid));return uniqueIds.push(uuid),uuid}function toggleAnimation(element,futureState){var activeClass="is-active";futureState?element.addClass(activeClass):element.removeClass(activeClass)}function closeActiveElements(options){var self=this;options=options||{};var activeElements=document.querySelectorAll(".is-active[zf-closable]");activeElements.length&&angular.forEach(activeElements,function(el){options.exclude!==el.id&&self.publish(el.id,"close")})}function animate(element,futureState,animationIn,animationOut){function cancelAnimation(){deregisterElement(element),element.off(events.join(" ")),timedOut=!1}function registerElement(el){var elObj={el:el,animation:self},inProgress=animations.filter(function(obj){return obj.el===el});inProgress.length>0&&inProgress[0].animation.cancelAnimation(),animations.push(elObj)}function deregisterElement(el){{var index;animations.filter(function(obj,ind){obj.el===el&&(index=ind)})}index>=0&&animations.splice(index,1)}function reflow(){return element[0].offsetWidth}function reset(){element[0].style.transitionDuration=0,element.removeClass(initClasses.join(" ")+" "+activeClasses.join(" ")+" "+animationIn+" "+animationOut)}function animateElement(animationClass,activation){var initClass=activation?initClasses[0]:initClasses[1],activeClass=activation?activeClasses[0]:activeClasses[1],finishAnimation=function(){deregisterElement(element),reset(),element.removeClass(activation?"":activeGenericClass),reflow(),timedOut=!1};registerElement(element),reset(),element.addClass(animationClass),element.addClass(initClass),element.addClass(activeGenericClass),reflow(),element[0].style.transitionDuration="",element.addClass(activeClass),element.one(events.join(" "),function(){finishAnimation()}),setTimeout(function(){timedOut&&finishAnimation()},3e3)}var initClasses=["ng-enter","ng-leave"],activeClasses=["ng-enter-active","ng-leave-active"],activeGenericClass="is-active",events=["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend","animationend","webkitTransitionEnd","otransitionend","transitionend"],timedOut=!0,self=this;self.cancelAnimation=cancelAnimation,animateElement(futureState?animationIn:animationOut,futureState)}var listeners=[],settings={},uniqueIds=[],animations=[],service={};return service.subscribe=subscribe,service.publish=publish,service.getSettings=getSettings,service.modifySettings=modifySettings,service.generateUuid=generateUuid,service.toggleAnimation=toggleAnimation,service.closeActiveElements=closeActiveElements,service.animate=animate,service}function prepareRoute(){function prepare(input){return"route-"+input.replace(/\./,"-").toLowerCase()}return prepare}function Utils(){function prepareRouteUtil(input){return"route-"+input.replace(/\./,"-").toLowerCase()}function throttleUtil(func,delay){var timer=null;return function(){var context=this,args=arguments;null===timer&&(timer=setTimeout(function(){func.apply(context,args),timer=null},delay))}}var utils={};return utils.prepareRoute=prepareRouteUtil,utils.throttle=throttleUtil,utils}angular.module("foundation.core",[]).run(mqInitRun).factory("FoundationMQInit",FoundationMQInit).factory("mqHelpers",mqHelpers).service("FoundationApi",FoundationApi).filter("prepareRoute",prepareRoute).factory("Utils",Utils),mqInitRun.$inject=["FoundationMQInit"],FoundationMQInit.$inject=["mqHelpers","FoundationApi","Utils"]}();